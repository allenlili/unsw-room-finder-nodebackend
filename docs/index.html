<!doctype html>
<html>
<head>
  <meta charset='utf-8' />
  <title>comp9323-backend 0.9.9 | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
  <link href='assets/split.css' type='text/css' rel='stylesheet' />
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>comp9323-backend</h3>
          <div class='mb1'><code>0.9.9</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#error-retry'
                  class="">
                  error-retry
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#handler'
                  class="">
                  handler
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#goto-confirmbooking'
                  class="">
                  goto-confirmBooking
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gettimesfromavailability'
                  class="">
                  getTimesFromAvailability
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#goto-help'
                  class="">
                  goto-help
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#goto-issueother'
                  class="">
                  goto-issueOther
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#followup'
                  class="">
                  followUp
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#followup'
                  class="">
                  followUp
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#goto-issueroom'
                  class="">
                  goto-issueRoom
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#firststep'
                  class="">
                  firstStep
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#secondstep'
                  class="">
                  secondStep
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#thirdstep'
                  class="">
                  thirdStep
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#forthstep'
                  class="">
                  forthStep
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fifthstep'
                  class="">
                  fifthStep
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#withconstraints'
                  class="">
                  withConstraints
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#statetocontraints'
                  class="">
                  stateToContraints
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#goto-roomrandom'
                  class="">
                  goto-roomRandom
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#goto-start'
                  class="">
                  goto-start
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#self'
                  class="">
                  self
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#get-user'
                  class="">
                  get-user
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#prepare-for-confirmation'
                  class="">
                  prepare-for-confirmation
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#describeslot'
                  class="">
                  describeSlot
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#queryroom'
                  class="">
                  queryRoom
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#set-state'
                  class="">
                  set-state
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#catch'
                  class="">
                  catch
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getconfig'
                  class="">
                  getConfig
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#config'
                  class="">
                  config
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getdatabase'
                  class="">
                  getDatabase
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#database'
                  class="">
                  database
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#database'
                  class="">
                  database
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gethelper'
                  class="">
                  getHelper
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#handlesignatureverification'
                  class="">
                  handleSignatureVerification
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#facebook'
                  class="">
                  facebook
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getlogger'
                  class="">
                  getLogger
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#logger'
                  class="">
                  logger
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#routes'
                  class="">
                  routes
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#verifyrequest'
                  class="">
                  verifyRequest
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#resulttoexit'
                  class="">
                  resultToExit
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#register_webhook'
                  class="">
                  register_webhook
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#webhook'
                  class="">
                  webhook
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#forevent'
                  class="">
                  forEvent
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#forpostback'
                  class="">
                  forPostback
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#formessage'
                  class="">
                  forMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#formessagefollowup'
                  class="">
                  forMessageFollowup
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#withrequestdispatch'
                  class="">
                  withRequestDispatch
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#forerror'
                  class="">
                  forError
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getstatefollowup'
                  class="">
                  getStateFollowUp
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#init'
                  class="">
                  init
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gettable'
                  class="">
                  getTable
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#query'
                  class="">
                  query
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#models'
                  class="">
                  models
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#dispatcher'
                  class="">
                  dispatcher
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#facebookid'
                  class="">
                  facebookId
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#database'
                  class="">
                  database
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gettable'
                  class="">
                  getTable
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#transaction'
                  class="">
                  transaction
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getdbconnection'
                  class="">
                  getDBConnection
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getfacebookclient'
                  class="">
                  getFacebookClient
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#log'
                  class="">
                  log
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromrequest'
                  class="">
                  fromRequest
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#withsender'
                  class="">
                  withSender
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_request'
                  class="">
                  _request
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_sendmessage'
                  class="">
                  _sendMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_sendtorecipt'
                  class="">
                  _sendToRecipt
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#sendtext'
                  class="">
                  sendText
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#sendimage'
                  class="">
                  sendImage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#configureprofile'
                  class="">
                  configureProfile
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#create'
                  class="">
                  create
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#sendmessage'
                  class="">
                  sendMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#sendimage'
                  class="">
                  sendImage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#sendtext'
                  class="">
                  sendText
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#configure'
                  class="">
                  configure
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromerror'
                  class="">
                  fromError
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromerror'
                  class="">
                  fromError
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getnlp'
                  class="">
                  getNLP
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getlocation'
                  class="">
                  getLocation
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getsenderid'
                  class="">
                  getSenderId
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parseevent'
                  class="">
                  parseEvent
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parsemessage'
                  class="">
                  parseMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parsepostback'
                  class="">
                  parsePostBack
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parseeventmessage'
                  class="">
                  parseEventMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parseincomingmessages'
                  class="">
                  parseIncomingMessages
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#makecalltoaction'
                  class="">
                  makeCallToAction
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#makemaplinks'
                  class="">
                  makeMapLinks
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#addbutton'
                  class="">
                  addButton
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#addlinkbutton'
                  class="">
                  addLinkButton
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#buildpayload'
                  class="">
                  buildPayload
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#addlinkbutton'
                  class="">
                  addLinkButton
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#addbutton'
                  class="">
                  addButton
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#build'
                  class="">
                  build
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#addtextoption'
                  class="">
                  addTextOption
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#addlocationoption'
                  class="">
                  addLocationOption
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#build'
                  class="">
                  build
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#addoption'
                  class="">
                  addOption
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#addquickreplies'
                  class="">
                  addQuickReplies
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#build'
                  class="">
                  build
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#buttonmessage'
                  class="">
                  buttonMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#setquickreplies'
                  class="">
                  setQuickReplies
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#optioncarousel'
                  class="">
                  optionCarousel
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#messagewithlocation'
                  class="">
                  messageWithLocation
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#process'
                  class="">
                  process
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#frompgtimestring'
                  class="">
                  fromPGTimeString
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#isequal'
                  class="">
                  isEqual
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#add'
                  class="">
                  add
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#createdateasutc'
                  class="">
                  createDateAsUTC
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#convertdatetoutc'
                  class="">
                  convertDateToUTC
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#offsetdate'
                  class="">
                  offsetDate
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#updatedate'
                  class="">
                  updateDate
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#get'
                  class="">
                  get
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#asynchandler'
                  class="">
                  asyncHandler
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#promisetoresult'
                  class="">
                  promiseToResult
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#strippadding'
                  class="">
                  stripPadding
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='http://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='error-retry'>
      error-retry
    </h3>
    
    
  </div>
  

  <p>Sends a response to the user, informing them that their message cannot be processed.</p>


  <div class='pre p1 fill-light mt0'>error-retry(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='handler'>
      handler
    </h3>
    
    
  </div>
  

  <p>Sends a response to the user, informing them that their message cannot be processed.</p>


  <div class='pre p1 fill-light mt0'>handler(type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, field: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>type</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>field</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='goto-confirmbooking'>
      goto-confirmBooking
    </h3>
    
    
  </div>
  

  <p>Sends a response to the user, confirming a 'booking' with them and sending data about where to find their room.</p>


  <div class='pre p1 fill-light mt0'>goto-confirmBooking(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gettimesfromavailability'>
      getTimesFromAvailability
    </h3>
    
    
  </div>
  

  <p>Gets the start and end time from an Availability object.</p>


  <div class='pre p1 fill-light mt0'>getTimesFromAvailability(availablity: Availablity, searchedTime: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>availablity</span> <code class='quiet'>(Availablity)</code>
	    object containing availibility data

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>searchedTime</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    time that has been searched for

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='goto-help'>
      goto-help
    </h3>
    
    
  </div>
  

  <p>Sends a response to the user, containing help information.</p>


  <div class='pre p1 fill-light mt0'>goto-help(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='goto-issueother'>
      goto-issueOther
    </h3>
    
    
  </div>
  

  <p>Sends a response to the user, asking them what the issue is.</p>


  <div class='pre p1 fill-light mt0'>goto-issueOther(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='followup'>
      followUp
    </h3>
    
    
  </div>
  

  <p>Sends a response to the user, capturing their issue and thanking them for their feedback.</p>


  <div class='pre p1 fill-light mt0'>followUp(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='followup'>
      followUp
    </h3>
    
    
  </div>
  

  <p>Sends a response to the user, capturing their issue about the room and thanking them for their feedback.</p>


  <div class='pre p1 fill-light mt0'>followUp(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='goto-issueroom'>
      goto-issueRoom
    </h3>
    
    
  </div>
  

  <p>Sends a response to the user, asking them what the problem with the room is.</p>


  <div class='pre p1 fill-light mt0'>goto-issueRoom(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='firststep'>
      firstStep
    </h3>
    
    
  </div>
  

  <p>The inital step in the room finding process, we record the time it starts and then move forward by asking what time they prefer their room.</p>


  <div class='pre p1 fill-light mt0'>firstStep(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='secondstep'>
      secondStep
    </h3>
    
    
  </div>
  

  <p>With a specified time we'll add that to the database state, then we'll request the user to send location data on their where abouts, which they can decline.</p>


  <div class='pre p1 fill-light mt0'>secondStep(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='thirdstep'>
      thirdStep
    </h3>
    
    
  </div>
  

  <p>In this step we might get the location, we might not, but we can start searching for a room based on whatever information the user has given us.</p>


  <div class='pre p1 fill-light mt0'>thirdStep(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='forthstep'>
      forthStep
    </h3>
    
    
  </div>
  

  <p>The only difference between this and the last step is this step moves pagination forward.</p>


  <div class='pre p1 fill-light mt0'>forthStep(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fifthstep'>
      fifthStep
    </h3>
    
    
  </div>
  

  <p>This step prepares the room for conformation.</p>


  <div class='pre p1 fill-light mt0'>fifthStep(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='withconstraints'>
      withConstraints
    </h3>
    
    
  </div>
  

  <p>Builds data to send to the user, containing room information such as latlong, room number, student VIP links, and options to choose the rooms. If there are no available rooms, it will let the user know this.</p>


  <div class='pre p1 fill-light mt0'>withConstraints(context: Context, state: Model&#x3C;State>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>state</span> <code class='quiet'>(Model&#x3C;State>)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='statetocontraints'>
      stateToContraints
    </h3>
    
    
  </div>
  

  <p>Gets the constraint data from the state object.</p>


  <div class='pre p1 fill-light mt0'>stateToContraints(state: SearchStateData): SearchConstraints</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>state</span> <code class='quiet'>(SearchStateData)</code>
	    searched state data object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>SearchConstraints</code>:
        constraints data object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='goto-roomrandom'>
      goto-roomRandom
    </h3>
    
    
  </div>
  

  <p>Builds data to send to the user, however does not take any user constraints into account. Chooses random rooms. If nothing is available, it will let the user know.</p>


  <div class='pre p1 fill-light mt0'>goto-roomRandom(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='goto-start'>
      goto-start
    </h3>
    
    
  </div>
  

  <p>This dispatcher handler resets the users state in the application, as well wiping any json data stored about the user. After that it shows the user a message about the start of the Application.</p>


  <div class='pre p1 fill-light mt0'>goto-start(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='self'>
      self
    </h3>
    
    
  </div>
  

  <p>Utility to retrieve the state, which can be used to check/store user state data.</p>


  <div class='pre p1 fill-light mt0'>self(context: Context, tIn: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Model&#x3C;T>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tIn</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    input table

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Model&#x3C;T>></code>:
        promise eventuating to Model
<T>

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='get-user'>
      get-user
    </h3>
    
    
  </div>
  

  <p>Utility to retrieve the user of the application.</p>


  <div class='pre p1 fill-light mt0'>get-user(context: Context, tIn: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Model&#x3C;T>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tIn</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    input table

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Model&#x3C;T>></code>:
        promise eventuating to Model
<T>

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='prepare-for-confirmation'>
      prepare-for-confirmation
    </h3>
    
    
  </div>
  

  <p>If a room is available
1. Update the state to include the time sent &#x26; availablity info
2. Send button template with a few postbacks &#x26; include the sentDate with the accept.</p>


  <div class='pre p1 fill-light mt0'>prepare-for-confirmation(context: Context, availability: Availablity, availablity: Availablity): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>availability</span> <code class='quiet'>(Availablity)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>availablity</span> <code class='quiet'>(Availablity)</code>
	    object containing availibility data

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='describeslot'>
      describeSlot
    </h3>
    
    
  </div>
  

  <p>Construct a description about the room slot, containing the name, place, and location - as well as availibility info.</p>


  <div class='pre p1 fill-light mt0'>describeSlot(availabityInfo: Availablity, availablity: Availablity): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>availabityInfo</span> <code class='quiet'>(Availablity)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>availablity</span> <code class='quiet'>(Availablity)</code>
	    object containing availibility data

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        description of the room

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='queryroom'>
      queryRoom
    </h3>
    
    
  </div>
  

  <p>Query for available rooms, by using a set of constraints - as well as ranking based on room suitability, etc.</p>


  <div class='pre p1 fill-light mt0'>queryRoom(context: Context, s: SearchConstraints): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Availability>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>s</span> <code class='quiet'>(SearchConstraints)</code>
	    search constraints for the query

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Availability>></code>:
        promise eventuating to Array
<Availability>

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='set-state'>
      set-state
    </h3>
    
    
  </div>
  

  <p>Non destructive update that actually creates a new state for the current user.</p>


  <div class='pre p1 fill-light mt0'>set-state(context: Context, updateIn: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, tIn: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Model&#x3C;T>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    application context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateIn</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    updated state object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tIn</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    input table

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Model&#x3C;T>></code>:
        promise eventuating to Model
<T>

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='catch'>
      catch
    </h3>
    
    
  </div>
  

  <p>Starts the server on specified port (in config), looks for config file and exposes it to the application, initialises the database/logger, and sets up all the routes/plugins for restify.</p>


  <div class='pre p1 fill-light mt0'>catch</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getconfig'>
      getConfig
    </h3>
    
    
  </div>
  

  <p>Utility to get the config</p>


  <div class='pre p1 fill-light mt0'>getConfig(request: <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>): Config</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>request</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>)</code>
	    request object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Config</code>:
        the requested config object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='config'>
      config
    </h3>
    
    
  </div>
  

  <p>Sets the config to a symbol field so it's only accessible via the function getConfig.</p>


  <div class='pre p1 fill-light mt0'>config(config: Config)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(Config)</code>
	    configuration object

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getdatabase'>
      getDatabase
    </h3>
    
    
  </div>
  

  <p>Utility to get the database</p>


  <div class='pre p1 fill-light mt0'>getDatabase(request: <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>): Database</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>request</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>)</code>
	    request object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Database</code>:
        the requested database object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='database'>
      database
    </h3>
    
    
  </div>
  

  <p>Sets the db object to a symbol field so it's only accessible via the function getDatabase.</p>


  <div class='pre p1 fill-light mt0'>database(database: Database)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>database</span> <code class='quiet'>(Database)</code>
	    database object

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='database'>
      database
    </h3>
    
    
  </div>
  

  <p>Create a new database connection, with specific config.</p>


  <div class='pre p1 fill-light mt0'>database(config: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, logger: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): Database</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    config for the new db connection

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>logger</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    logger object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Database</code>:
        promise eventuating to Promise&#x3C;Array&#x3C;Model
<any>
>>

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gethelper'>
      getHelper
    </h3>
    
    
  </div>
  

  <p>Utility to get the Facebook object</p>


  <div class='pre p1 fill-light mt0'>getHelper(request: <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>): Facebook</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>request</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>)</code>
	    request object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Facebook</code>:
        the requested Facebook object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='handlesignatureverification'>
      handleSignatureVerification
    </h3>
    
    
  </div>
  

  <p>Handle the signature verification so that Facebook doesn't complain (ensures verified bot &#x3C;-> FB comms)</p>


  <div class='pre p1 fill-light mt0'>handleSignatureVerification(secrect: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, request: <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>, response: <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5">Response</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>secrect</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    to be used in SHA-1 crypto

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>request</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>)</code>
	    request object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>response</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5">Response</a>)</code>
	    response object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>:
        true if the signature is good, false if not

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='facebook'>
      facebook
    </h3>
    
    
  </div>
  

  <p>Sets the Facebook object to a symbol field so it's only accessible via the function getHelper.</p>


  <div class='pre p1 fill-light mt0'>facebook(facebook: Facebook, $1: any)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>facebook</span> <code class='quiet'>(Facebook)</code>
	    Facebook object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$1</span> <code class='quiet'>(any
            = <code>{}</code>)</code>
	    
          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>$1.verifySignature</span> <code class='quiet'>any</code>
  
    (default <code>false</code>)
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getlogger'>
      getLogger
    </h3>
    
    
  </div>
  

  <p>Utility to get the logger</p>


  <div class='pre p1 fill-light mt0'>getLogger(request: <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>): Logger</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>request</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>)</code>
	    request object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Logger</code>:
        the requested logger object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='logger'>
      logger
    </h3>
    
    
  </div>
  

  <p>Sets the logger to a symbol field so it's only accessible via the function getLogger.</p>


  <div class='pre p1 fill-light mt0'>logger(logger: Logger)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>logger</span> <code class='quiet'>(Logger)</code>
	    logger object

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='routes'>
      routes
    </h3>
    
    
  </div>
  

  <p>Sets up the server routes.</p>


  <div class='pre p1 fill-light mt0'>routes(server: Server): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>server</span> <code class='quiet'>(Server)</code>
	    server object data

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        nothing

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='verifyrequest'>
      verifyRequest
    </h3>
    
    
  </div>
  

  <p>Stateless function that determines if the valid way to respond to the request.</p>


  <div class='pre p1 fill-light mt0'>verifyRequest(verifyToken: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, request: <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>): VerificationResult</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>verifyToken</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    provided verification token

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>request</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>)</code>
	    request object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>VerificationResult</code>:
        object containing verification data

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='resulttoexit'>
      resultToExit
    </h3>
    
    
  </div>
  

  <p>Check and return the appropriate Exit object.</p>


  <div class='pre p1 fill-light mt0'>resultToExit(result: VerificationResult): Exit</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>result</span> <code class='quiet'>(VerificationResult)</code>
	    result of the verification

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Exit</code>:
        object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='register_webhook'>
      register_webhook
    </h3>
    
    
  </div>
  

  <p>Check and return the appropriate Exit object.</p>


  <div class='pre p1 fill-light mt0'>register_webhook(request: <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>, response: <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5">Response</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Exit></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>request</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>)</code>
	    request object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>response</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5">Response</a>)</code>
	    response object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Exit></code>:
        promise eventuating to Exit

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='webhook'>
      webhook
    </h3>
    
    
  </div>
  

  <p>Entry point into the webhook request; an async request handler</p>


  <div class='pre p1 fill-light mt0'>webhook(request: <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>, response: <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Exit></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>request</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>)</code>
	    request object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>response</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>)</code>
	    response object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Exit></code>:
        promise eventuating to Exit

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='forevent'>
      forEvent
    </h3>
    
    
  </div>
  

  <p>Function to determine the appropriate action to take, based on an event.</p>


  <div class='pre p1 fill-light mt0'>forEvent(database: Database, eventMessage: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Action></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>database</span> <code class='quiet'>(Database)</code>
	    database object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>eventMessage</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>)</code>
	    object containing the event message itself

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Action></code>:
        promise eventuating to Action

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='forpostback'>
      forPostback
    </h3>
    
    
  </div>
  

  <p>Function to determine the appropriate action to take, based on a postback.</p>


  <div class='pre p1 fill-light mt0'>forPostback(payload: PostbackType): Action</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>payload</span> <code class='quiet'>(PostbackType)</code>
	    postback payload object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Action</code>:
        Action object that defines what to do

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='formessage'>
      forMessage
    </h3>
    
    
  </div>
  

  <p>This is an async function as it checks the database to see if there were any follow ups specified for this function.</p>


  <div class='pre p1 fill-light mt0'>forMessage(database: Database, message: Message): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Action></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>database</span> <code class='quiet'>(Database)</code>
	    database object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(Message)</code>
	    original Facebook message

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Action></code>:
        promise eventuating to Action

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='formessagefollowup'>
      forMessageFollowup
    </h3>
    
    
  </div>
  

  <p>Follow up logic is for when an action requests input for the user to action upon that cannot be in the form of a postback.</p>


  <div class='pre p1 fill-light mt0'>forMessageFollowup(message: Message, followUp: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): Action</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(Message)</code>
	    original Facebook message

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>followUp</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    state in which the message was left after the last message

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Action</code>:
        Action object that defines what to do

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='withrequestdispatch'>
      withRequestDispatch
    </h3>
    
    
  </div>
  

  <p>Function to determine the appropriate action to take, based on an error.</p>


  <div class='pre p1 fill-light mt0'>withRequestDispatch(request: <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>, event: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>request</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>)</code>
	    request object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>event</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>)</code>
	    object containing the complete event

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    user action

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='forerror'>
      forError
    </h3>
    
    
  </div>
  

  <p>Function to determine the appropriate action to take, based on an error.</p>


  <div class='pre p1 fill-light mt0'>forError(logger: Logger, result: Result&#x3C;any>): null</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>logger</span> <code class='quiet'>(Logger)</code>
	    logger object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>result</span> <code class='quiet'>(Result&#x3C;any>)</code>
	    object that contains error data, or not

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>null</code>:
        empty return if required

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getstatefollowup'>
      getStateFollowUp
    </h3>
    
    
  </div>
  

  <p>This is an async function as it checks the database to see if there were any follow ups specified for this function.</p>


  <div class='pre p1 fill-light mt0'>getStateFollowUp(database: Database, senderId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>database</span> <code class='quiet'>(Database)</code>
	    database object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>senderId</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    sender (Facebook) id

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?></code>:
        promise eventuating to string

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='init'>
      init
    </h3>
    
    
  </div>
  

  <p>Just makes sure the database is ready to go.</p>


  <div class='pre p1 fill-light mt0'>init()</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gettable'>
      getTable
    </h3>
    
    
  </div>
  

  <p>Get a database table model.</p>


  <div class='pre p1 fill-light mt0'>getTable(name: ModelName): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>name</span> <code class='quiet'>(ModelName)</code>
	    name of the database table

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        the database table model

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='query'>
      query
    </h3>
    
    
  </div>
  

  <p>Perform a SELECT query on the database.</p>


  <div class='pre p1 fill-light mt0'>query(sql: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, replacements: QueryReplacements?): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Model&#x3C;any>>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>sql</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    sql statement to run the query with

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>replacements</span> <code class='quiet'>(QueryReplacements?
            = <code>null</code>)</code>
	    replacements for the query string

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Model&#x3C;any>>></code>:
        promise eventuating to Promise&#x3C;Array&#x3C;Model
<any>
>>

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='models'>
      models
    </h3>
    
    
  </div>
  

  <p>Define all database tables, and export as a map between table names and actionable objects.</p>


  <div class='pre p1 fill-light mt0'>models(database: Sequelize): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;ModelName, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>database</span> <code class='quiet'>(Sequelize)</code>
	    orm library object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;ModelName, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></code>:
        map between the table names, and the orm objects

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='dispatcher'>
      dispatcher
    </h3>
    
    
  </div>
  

  <p>Based on an action specified in the webhook, dispatch on a portion of the applications business logic.</p>


  <div class='pre p1 fill-light mt0'>dispatcher(context: Context, action: Action): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(Context)</code>
	    an object that represents application state.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>action</span> <code class='quiet'>(Action)</code>
	    used to suggest an intent which updates the application

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        promise eventuating to void

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='facebookid'>
      facebookId
    </h3>
    
    
  </div>
  

  <p>Get the Facebook ID in the current context.</p>


  <div class='pre p1 fill-light mt0'>facebookId</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        the Facebook ID

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='database'>
      database
    </h3>
    
    
  </div>
  

  <p>Get the database in the current context.</p>


  <div class='pre p1 fill-light mt0'>database</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Database</code>:
        the database object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gettable'>
      getTable
    </h3>
    
    
  </div>
  

  <p>Get the specified table in the current context.</p>


  <div class='pre p1 fill-light mt0'>getTable(modelName: ModelName): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>modelName</span> <code class='quiet'>(ModelName)</code>
	    name of the model in question

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        the orm object for the table

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='transaction'>
      transaction
    </h3>
    
    
  </div>
  

  <p>Transact the supplied function in the database specified within the context.</p>


  <div class='pre p1 fill-light mt0'>transaction(f: TransactionFn&#x3C;any>, t: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;any></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>f</span> <code class='quiet'>(TransactionFn&#x3C;any>)</code>
	    transaction function

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>t</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    object to be used in transaction

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;any></code>:
        promise eventuating to any

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getdbconnection'>
      getDBConnection
    </h3>
    
    
  </div>
  

  <p>Get the database connecton in the current context.</p>


  <div class='pre p1 fill-light mt0'>getDBConnection(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        the database connecton object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getfacebookclient'>
      getFacebookClient
    </h3>
    
    
  </div>
  

  <p>Get the Facebook client in the current context.</p>


  <div class='pre p1 fill-light mt0'>getFacebookClient(): UserHandler</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>UserHandler</code>:
        the Facebook client user handler object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='log'>
      log
    </h3>
    
    
  </div>
  

  <p>Get the Facebook client in the current context.</p>


  <div class='pre p1 fill-light mt0'>log(level: LogLevel, message: any): UserHandler</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>level</span> <code class='quiet'>(LogLevel)</code>
	    level to log the message at

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(any)</code>
	    the log message itself

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>UserHandler</code>:
        the Facebook client user handler object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromrequest'>
      fromRequest
    </h3>
    
    
  </div>
  

  <p>Create a new context from a request.</p>


  <div class='pre p1 fill-light mt0'>fromRequest(event: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>, request: <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>): Context</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>event</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>)</code>
	    event that contains data to be used to create the object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>request</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request">Request</a>)</code>
	    request object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Context</code>:
        newly created application context

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='withsender'>
      withSender
    </h3>
    
    
  </div>
  

  <p>Attach a sender ID to the user handler.</p>


  <div class='pre p1 fill-light mt0'>withSender(senderId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): UserHandler</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>senderId</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    sender ID to attach

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>UserHandler</code>:
        Facebook user handler

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_request'>
      _request
    </h3>
    
    
  </div>
  

  <p>Method for making generic request.</p>


  <div class='pre p1 fill-light mt0'>_request(method: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, url: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, config: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;AxiosResult></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>method</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    http method

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>url</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    https url

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    axios config

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;AxiosResult></code>:
        promise eventuating to an AxiosResult

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_sendmessage'>
      _sendMessage
    </h3>
    
    
  </div>
  

  <p>Method for posting a message.</p>


  <div class='pre p1 fill-light mt0'>_sendMessage(payload: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>payload</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    payload to be contained in the message

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></code>:
        promise eventuating to an Object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_sendtorecipt'>
      _sendToRecipt
    </h3>
    
    
  </div>
  

  <p>Method for sending to a recipient.</p>


  <div class='pre p1 fill-light mt0'>_sendToRecipt(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, payload: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    recipient id

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>payload</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    payload to be contained in the message

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></code>:
        promise eventuating to an Object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sendtext'>
      sendText
    </h3>
    
    
  </div>
  

  <p>Sends a text message to a recipent.</p>


  <div class='pre p1 fill-light mt0'>sendText(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, text: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, payload: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    recipient id

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>text</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>payload</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    payload to be contained in the message

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></code>:
        promise eventuating to an Object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sendimage'>
      sendImage
    </h3>
    
    
  </div>
  

  <p>Sends a image to a recipent.</p>


  <div class='pre p1 fill-light mt0'>sendImage(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, url: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    recipient id

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>url</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    image url to be sent

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></code>:
        promise eventuating to an Object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='configureprofile'>
      configureProfile
    </h3>
    
    
  </div>
  

  <p>Configure the profile after verification.</p>


  <div class='pre p1 fill-light mt0'>configureProfile(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;any></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;any></code>:
        promise eventuating to anything

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='create'>
      create
    </h3>
    
    
  </div>
  

  <p>Creates a Facebook messenger client library.</p>


  <div class='pre p1 fill-light mt0'>create(config: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): Facebook</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    Facebook client config

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>config.facebook</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Facebook</code>:
        instantiated Facebook object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sendmessage'>
      sendMessage
    </h3>
    
    
  </div>
  

  <p>Sends a message built by a message builder.</p>


  <div class='pre p1 fill-light mt0'>sendMessage(message: SendMessage): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(SendMessage)</code>
	    message to send

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></code>:
        promise eventuating to an Object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sendimage'>
      sendImage
    </h3>
    
    
  </div>
  

  <p>Sends an image built by a message builder.</p>


  <div class='pre p1 fill-light mt0'>sendImage(image: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>image</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    image to send

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></code>:
        promise eventuating to an Object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sendtext'>
      sendText
    </h3>
    
    
  </div>
  

  <p>Sends text built by a message builder.</p>


  <div class='pre p1 fill-light mt0'>sendText(message: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    message to send

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>></code>:
        promise eventuating to an Object

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='configure'>
      configure
    </h3>
    
    
  </div>
  

  <p>Generates the configure payload, which includes the main menu and greeting.</p>


  <div class='pre p1 fill-light mt0'>configure(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        newly created configure payload

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromerror'>
      fromError
    </h3>
    
    
  </div>
  

  <p>Attach the user to the error</p>


  <div class='pre p1 fill-light mt0'>fromError(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, error: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>userId</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    current user ID

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>error</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    error object with data

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        error with user data attached

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromerror'>
      fromError
    </h3>
    
    
  </div>
  

  <p>Attach the user to the error</p>


  <div class='pre p1 fill-light mt0'>fromError(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, error: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>userId</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    current user ID

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>error</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    error object with data

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        error with user data attached

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getnlp'>
      getNLP
    </h3>
    
    
  </div>
  

  <p>Get the NLP parser for the specified message type.</p>


  <div class='pre p1 fill-light mt0'>getNLP(message: Message): MessageNLP</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(Message)</code>
	    message to get NLP for

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>MessageNLP</code>:
        NLP for the message type

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getlocation'>
      getLocation
    </h3>
    
    
  </div>
  

  <p>Get the location for the specified message.</p>


  <div class='pre p1 fill-light mt0'>getLocation(message: Message): <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location">Location</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(Message)</code>
	    message to get location for

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location">Location</a></code>:
        location data

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getsenderid'>
      getSenderId
    </h3>
    
    
  </div>
  

  <p>Get the sender ID for the specified event message.</p>


  <div class='pre p1 fill-light mt0'>getSenderId(eventMessage: HasSender): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>eventMessage</span> <code class='quiet'>(HasSender)</code>
	    message to get sender ID for

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        sender ID

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parseevent'>
      parseEvent
    </h3>
    
    
  </div>
  

  <p>Produces an iterator of incoming messages to the bot.</p>


  <div class='pre p1 fill-light mt0'>parseEvent(request: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): Iterator&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>request</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    request object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Iterator&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>></code>:
        event iterator

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parsemessage'>
      parseMessage
    </h3>
    
    
  </div>
  

  <p>Takes an event, and if it's a message it'll refine and extract
more information from it.</p>
<p>Messages are priorised on this basis</p>
<ol>
<li>text based messages</li>
<li>location</li>
<li>stickers</li>
<li>images</li>
<li>audio</li>
<li>vague</li>
</ol>
<p>It's worth keeping mind that there are no combinations of these
so text with attachments is treated as text. A image that is a
sticker is treated as a sticker not an image.</p>


  <div class='pre p1 fill-light mt0'>parseMessage(event: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>): Message</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>event</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>)</code>
	    event data object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Message</code>:
        parsed message

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parsepostback'>
      parsePostBack
    </h3>
    
    
  </div>
  

  <p>As parseMessage(), except for PostBacks</p>


  <div class='pre p1 fill-light mt0'>parsePostBack(event: PostbackEvent): Postback</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>event</span> <code class='quiet'>(PostbackEvent)</code>
	    postback event data object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Postback</code>:
        parsed postback

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parseeventmessage'>
      parseEventMessage
    </h3>
    
    
  </div>
  

  <p>As parseMessage(), except for EventMessages</p>


  <div class='pre p1 fill-light mt0'>parseEventMessage(message: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    message body data object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a></code>:
        parsed event

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parseincomingmessages'>
      parseIncomingMessages
    </h3>
    
    
  </div>
  

  <p>Produces an iterator of incoming events to the bot.</p>


  <div class='pre p1 fill-light mt0'>parseIncomingMessages(body: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): Iterator&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>body</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    incoming messages body

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Iterator&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>></code>:
        event iterator

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='makecalltoaction'>
      makeCallToAction
    </h3>
    
    
  </div>
  

  <p>Make a Messenger 'call to action' body object.</p>


  <div class='pre p1 fill-light mt0'>makeCallToAction(args: CTAArgs): CTA</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>args</span> <code class='quiet'>(CTAArgs)</code>
	    call to action arguments

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>CTA</code>:
        complete call to action

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='makemaplinks'>
      makeMapLinks
    </h3>
    
    
  </div>
  

  <p>Construct the map links for various devices, based on provided co-ordinates.</p>


  <div class='pre p1 fill-light mt0'>makeMapLinks(lat: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, long: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>lat</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    provided latitude

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>long</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    provided longitude

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        completed map data

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='addbutton'>
      addButton
    </h3>
    
    
  </div>
  

  <p>Add a button to the message.</p>


  <div class='pre p1 fill-light mt0'>addButton(label: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, payload: PostbackType): TemplateBuilder</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>label</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    label on the button

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>payload</span> <code class='quiet'>(PostbackType)</code>
	    data to be appended to the button

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>TemplateBuilder</code>:
        builder that can be built or added to

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='addlinkbutton'>
      addLinkButton
    </h3>
    
    
  </div>
  

  <p>Add a link button to the message.</p>


  <div class='pre p1 fill-light mt0'>addLinkButton(label: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, url: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): TemplateBuilder</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>label</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    label on the link button

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>url</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    url to be appended to the link button

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>TemplateBuilder</code>:
        builder that can be built or added to

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='buildpayload'>
      buildPayload
    </h3>
    
    
  </div>
  

  <p>Build the complete payload.</p>


  <div class='pre p1 fill-light mt0'>buildPayload(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        built payload that contains all the added data

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='addlinkbutton'>
      addLinkButton
    </h3>
    
    
  </div>
  

  <p>Add a link button to the button template.</p>


  <div class='pre p1 fill-light mt0'>addLinkButton(label: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, url: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): ButtonsTemplateBuilder</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>label</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    label on the link button

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>url</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    url to be appended to the link button

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>ButtonsTemplateBuilder</code>:
        builder that can be built or added to

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='addbutton'>
      addButton
    </h3>
    
    
  </div>
  

  <p>Add a button to the button template.</p>


  <div class='pre p1 fill-light mt0'>addButton(label: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, payload: PostbackType): ButtonsTemplateBuilder</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>label</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    label on the button

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>payload</span> <code class='quiet'>(PostbackType)</code>
	    data to be appended to the button

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>ButtonsTemplateBuilder</code>:
        builder that can be built or added to

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='build'>
      build
    </h3>
    
    
  </div>
  

  <p>Build the complete payload.</p>


  <div class='pre p1 fill-light mt0'>build(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        built payload that contains all the added data

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='addtextoption'>
      addTextOption
    </h3>
    
    
  </div>
  

  <p>Add a text option to the quick reply.</p>


  <div class='pre p1 fill-light mt0'>addTextOption(title: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, payloadObject: PostbackType, imageUrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?): QuickReplyBuilder</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>title</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    label on the quick reply

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>payloadObject</span> <code class='quiet'>(PostbackType)</code>
	    data to be appended to the quick reply

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>imageUrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?)</code>
	    data to be appended to the button

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>QuickReplyBuilder</code>:
        builder that can be built or added to

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='addlocationoption'>
      addLocationOption
    </h3>
    
    
  </div>
  

  <p>Add a location option to the quick reply.</p>


  <div class='pre p1 fill-light mt0'>addLocationOption(): QuickReplyBuilder</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>QuickReplyBuilder</code>:
        builder that can be built or added to

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='build'>
      build
    </h3>
    
    
  </div>
  

  <p>Build the complete payload.</p>


  <div class='pre p1 fill-light mt0'>build(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        built payload that contains all the added data

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='addoption'>
      addOption
    </h3>
    
    
  </div>
  

  <p>Add an option to the carousel.</p>


  <div class='pre p1 fill-light mt0'>addOption(config: TemplateConfig, context: TemplateBuilder): CarouselBuilder</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(TemplateConfig)</code>
	    option template config

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(TemplateBuilder)</code>
	    template builder that is encapsulated within the carousel

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>CarouselBuilder</code>:
        builder that can be built or added to

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='addquickreplies'>
      addQuickReplies
    </h3>
    
    
  </div>
  

  <p>Add a quick reply to the carousel.</p>


  <div class='pre p1 fill-light mt0'>addQuickReplies(context: QuickReplyBuilder): CarouselBuilder</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(QuickReplyBuilder)</code>
	    quick reply builder that is encapsulated within the carousel

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>CarouselBuilder</code>:
        builder that can be built or added to

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='build'>
      build
    </h3>
    
    
  </div>
  

  <p>Build the complete payload.</p>


  <div class='pre p1 fill-light mt0'>build(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        built payload that contains all the added data

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='buttonmessage'>
      buttonMessage
    </h3>
    
    
  </div>
  

  <p>Builds a button message to send to the user.</p>


  <div class='pre p1 fill-light mt0'>buttonMessage(message: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, context: ButtonsTemplateBuilder): SendMessage</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    message to display on the button

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(ButtonsTemplateBuilder)</code>
	    button builder for each button

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>SendMessage</code>:
        complete message that is ready to send

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='setquickreplies'>
      setQuickReplies
    </h3>
    
    
  </div>
  

  <p>Set the quick replies for the bot.</p>


  <div class='pre p1 fill-light mt0'>setQuickReplies(message: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, context: QuickReplyBuilder): SendMessage</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    message to display on the quick reply.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(QuickReplyBuilder)</code>
	    quick reply builder for each quick reply

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>SendMessage</code>:
        complete message that is ready to send

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='optioncarousel'>
      optionCarousel
    </h3>
    
    
  </div>
  

  <p>Builds an option carousel to send to the user.</p>


  <div class='pre p1 fill-light mt0'>optionCarousel(context: CarouselBuilder): SendMessage</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(CarouselBuilder)</code>
	    carousel builder for each component of the carousel

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>SendMessage</code>:
        complete message that is ready to send

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='messagewithlocation'>
      messageWithLocation
    </h3>
    
    
  </div>
  

  <p>Builds a message with attached location to send to the user.</p>


  <div class='pre p1 fill-light mt0'>messageWithLocation(title: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, config: LocationConfig): SendMessage</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>title</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    title to display on the location message

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(LocationConfig)</code>
	    location data config

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>SendMessage</code>:
        complete message that is ready to send

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='process'>
      process
    </h3>
    
    
  </div>
  

  <p>Based on an action specified in the webhook, dispatch on a portion of the applications business logic.</p>


  <div class='pre p1 fill-light mt0'>process(eventMessage: MessageWithText): Action</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>eventMessage</span> <code class='quiet'>(MessageWithText)</code>
	    the event message that comes from the messenger platform, ready to parse

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Action</code>:
        action to do, based on the event

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='frompgtimestring'>
      fromPGTimeString
    </h3>
    
    
  </div>
  

  <p>Update a date from a time string.</p>


  <div class='pre p1 fill-light mt0'>fromPGTimeString(timeString: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, date: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>timeString</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    new time string

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>date</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    PostgreSQL date object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></code>:
        new date

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='isequal'>
      isEqual
    </h3>
    
    
  </div>
  

  <p>Check if the dates are equal.</p>


  <div class='pre p1 fill-light mt0'>isEqual(dates: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>dates</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>>)</code>
	    all the dates to check

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>:
        true if all equal, false if not

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='add'>
      add
    </h3>
    
    
  </div>
  

  <p>Add a time delta to a provided date.</p>


  <div class='pre p1 fill-light mt0'>add(date: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, delta: DateDelta): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>date</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    original date

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>delta</span> <code class='quiet'>(DateDelta)</code>
	    delta to increase by

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></code>:
        date with delta applied

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='createdateasutc'>
      createDateAsUTC
    </h3>
    
    
  </div>
  

  <p>Create a new date object as UTC.</p>


  <div class='pre p1 fill-light mt0'>createDateAsUTC(date: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>date</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    original date

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></code>:
        date as UTC

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='convertdatetoutc'>
      convertDateToUTC
    </h3>
    
    
  </div>
  

  <p>Convert a date object to UTC.</p>


  <div class='pre p1 fill-light mt0'>convertDateToUTC(date: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>date</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    original date

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></code>:
        date as UTC

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='offsetdate'>
      offsetDate
    </h3>
    
    
  </div>
  

  <p>Non destructively offset the date.</p>


  <div class='pre p1 fill-light mt0'>offsetDate(timeOffset: TimeOffset, date: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>timeOffset</span> <code class='quiet'>(TimeOffset)</code>
	    the value which updates the date object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>date</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    original date

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></code>:
        offset date

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='updatedate'>
      updateDate
    </h3>
    
    
  </div>
  

  <p>Non destructively update the date.</p>


  <div class='pre p1 fill-light mt0'>updateDate(date: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, delta: DateDelta): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>date</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    original date

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>delta</span> <code class='quiet'>(DateDelta)</code>
	    delta to increase by

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></code>:
        updated date

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='get'>
      get
    </h3>
    
    
  </div>
  

  <p>Get a field within a date object.</p>


  <div class='pre p1 fill-light mt0'>get(date: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, field: DateAttrKey): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>date</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    date object to query

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>field</span> <code class='quiet'>(DateAttrKey)</code>
	    field to get

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code>:
        field value

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='asynchandler'>
      asyncHandler
    </h3>
    
    
  </div>
  

  <p>For async handlers, wrap them with this function to ensure they log on failure if not done properly. Additionally this ensures the async handlers end the request and set a status.</p>


  <div class='pre p1 fill-light mt0'>asyncHandler(routeHandler: AsyncHandler): CallbackHandler</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>routeHandler</span> <code class='quiet'>(AsyncHandler)</code>
	    handler that deals with routing

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>CallbackHandler</code>:
        handler that deals with callbacks

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='promisetoresult'>
      promiseToResult
    </h3>
    
    
  </div>
  

  <p>Map a promise to it's result.</p>


  <div class='pre p1 fill-light mt0'>promiseToResult(promise: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;A>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Result&#x3C;A>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>promise</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;A>)</code>
	    promise eventuating to A

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Result&#x3C;A>></code>:
        promise eventuating to the Result
<A>

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='strippadding'>
      stripPadding
    </h3>
    
    
  </div>
  

  <p>Utility function to strip padding from text.</p>


  <div class='pre p1 fill-light mt0'>stripPadding(input: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>input</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    string to strip

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        stripped string

      
    
  

  

  

  

  

  
</section>

          
        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
